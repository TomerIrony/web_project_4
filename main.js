!function(){"use strict";var e={937:function(e,t,n){e.exports=n.p+"4e8e0a1d604782a0dff8.svg"},9:function(e,t,n){e.exports=n.p+"8667ac4a523e8fc42e59.svg"},742:function(e,t,n){e.exports=n.p+"d86bb2edc2f6eadb96b7.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){var e=n(937),t=n(9),r=n(742);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_showInputError",(function(e,t){var n=r._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(c.inputErrorClass),n.textContent=t,n.classList.add(c.formValidationShow)})),i(this,"_hideInputError",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(c.inputErrorClass),t.classList.remove(c.formValidationActive),t.textContent=""})),i(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e,e.validationMessage)})),i(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),i(this,"_defaultButtonDisable",(function(e){e.classList.add(r._validationConfig.inactiveButtonClass),e.disabled=!0})),i(this,"_defaultButtonEnable",(function(e){e.classList.remove(r._validationConfig.inactiveButtonClass),e.disabled=!1})),i(this,"_toggleButtonState",(function(e,t){r._hasInvalidInput(e)?r._defaultButtonDisable(t):r._defaultButtonEnable(t)})),i(this,"_setEventListeners",(function(){var e=Array.from(r._formElement.querySelectorAll(r._validationConfig.inputSelector)),t=r._formElement.querySelector(r._validationConfig.submitButtonSelector);r._toggleButtonState(e,t),e.forEach((function(n){n.addEventListener("input",(function(){r._checkInputValidity(n),r._toggleButtonState(e,t)}))}))})),this._validationConfig=t,this._formElement=n,this._button=this._formElement.querySelector(this._validationConfig.submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this._validationConfig.inactiveButtonClass;this._button&&(this._button.classList.add(e),this._button.disabled=!0)}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&o(t.prototype,n),e}(),c={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit-btn",inactiveButtonClass:"form__submit-btn_disable",inputErrorClass:"form__text_error",errorClass:"popup__error_visible",formValidationShow:"form__validation_show",formValidationActive:"form__validation_show"};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n,r,o){var i=o.imagePopupClick,a=o.cardLikeClick,c=o.cardDeleteCallBack;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=t.name,this._image=t.link,this._likes=t.likes,this._owner=t.owner._id,this._id=t._id,this._userId=r,this._template=n,this._imagePopupClick=i,this._cardLikeClick=a,this._cardDeleteCallBack=c}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._template.content.querySelector(".card").cloneNode(!0)}},{key:"_deleteButtons",value:function(){this._userId!==this._owner&&(this._element.querySelector(".card__close").style.display="none")}},{key:"likeCard",value:function(){this._element.querySelector(".card__like-btn").classList.add("card__like-active")}},{key:"removelike",value:function(){this._element.querySelector(".card__like-btn").classList.remove("card__like-active")}},{key:"_saveLike",value:function(){var e=this;this._likes.filter((function(t){return t._id===e._userId})).length>0&&this._element.querySelector(".card__like-btn").classList.add("card__like-active")}},{key:"likeCounter",value:function(e){this._element.querySelector(".card__like-numbers").textContent=e}},{key:"initalCounter",value:function(){this._element.querySelector(".card__like-numbers").textContent=this._likes.length}},{key:"likeHandle",value:function(e){this._element.querySelector(".card__like-numbers").textContent=e,this._element.querySelector(".card__like-btn").classList.contains("card__like-active")?this.removelike():this.likeCard()}},{key:"checkIfLikes",value:function(){return this._element.querySelector(".card__like-btn").classList.contains("card__like-active")}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"generateCard",value:function(){var e=this;return this._element=this._getTemplate(),this._element.querySelector(".card__image").src=this._image,this._element.querySelector(".card__image").alt=this._image,this._element.querySelector(".card__name").textContent=this._title,this._deleteButtons(),this._saveLike(),this._element.querySelector(".card__close").addEventListener("click",(function(){e._cardDeleteCallBack(e._id)})),this._element.querySelector(".card__like-btn").addEventListener("click",(function(){e._cardLikeClick(e._id,e._element,e._likes,e._likeButton)})),this._element.querySelector(".card__image").addEventListener("click",(function(){e._imagePopupClick([e._title,e._image])})),this.likeCounter(),this.initalCounter(),this._element}}])&&l(t.prototype,n),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderer",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}}])&&s(t.prototype,n),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),p(this,"_handleClose",(function(){n.close()})),p(this,"_handleCloseOnBackground",(function(e){e.target===e.currentTarget&&n.close(e.currentTarget)})),this._popup=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popout_opened"),this.setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("popout_opened"),this.removeEventListeners()}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.querySelector(".popout__close-btn").removeEventListener("click",this._handleClose),this._popup.removeEventListener("click",this._handleCloseOnBackground)}},{key:"setEventListeners",value:function(){this._popup.querySelector(".popout__close-btn").addEventListener("click",this._handleClose),this._popup.addEventListener("click",this._handleCloseOnBackground),document.addEventListener("keydown",this._handleEscClose)}}])&&d(t.prototype,n),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},y(e,t,n||e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._src=t._popup.querySelector(".popout__image"),t._title=t._popup.querySelector(".popout__caption"),t}return t=a,(n=[{key:"open",value:function(e,t){y(k(a.prototype),"open",this).call(this),this._src.src=t,this._src.alt=e,this._title.textContent=e}}])&&m(t.prototype,n),a}(h);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n,this._avatar=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this._userName.textContent,userJob:this._userJob.textContent,userAvatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t,n){this._userName.textContent=e,this._userJob.textContent=t,this._avatar.src=n}}])&&E(t.prototype,n),e}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},I(e,t,n||e)}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function L(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(r);if(o){var n=O(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e){var t,n,r,o,c=e.popup,l=e.formCallBack;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(e){return e.preventDefault(),t._formCallBack(t._getInputValues())},(r="formCallBack")in(n=P(t=i.call(this,c)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t._formCallBack=l,t._form=t._popup.querySelector(".form"),t._inputs=t._popup.querySelectorAll(".form__input"),t}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputFieldsValue={},this._inputs.forEach((function(t){e._inputFieldsValue[t.name]=t.value})),this._inputFieldsValue}},{key:"setEventListeners",value:function(){I(O(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this.formCallBack)}},{key:"removeEventListeners",value:function(){I(O(a.prototype),"removeEventListeners",this).call(this),this._form.removeEventListener("submit",this.formCallBack)}},{key:"close",value:function(){I(O(a.prototype),"close",this).call(this),this._form.reset()}},{key:"handleDelete",value:function(e){this._formCallBack=e}}])&&S(t.prototype,n),a}(h);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"loadUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"updateUserInfo",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"promiseAll",value:function(){return Promise.all([this.getInitialCards(),this.loadUserInfo()])}},{key:"addNewCard",value:function(e){var t=e.title,n=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:n})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"updateProfilePicture",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"likeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}])&&j(t.prototype,n),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"9bdd55c3-52f9-457f-a17d-02b8ea63be13","Content-Type":"application/json"}}),x=function(e){var t=e.popup,n=e.loading,r=t.querySelector(".form__submit-btn");return n?void(r.textContent="Saving..."):void(r.textContent="Save")},T=document.querySelector("#imageOpened"),D=document.getElementById("openProfile"),N=document.getElementById("fullName"),U=document.getElementById("description"),V=document.getElementById("editProfileForm"),A=document.getElementById("userInputfullName"),J=document.getElementById("userInputDescription"),F=document.getElementById("addNewContentButton"),H=document.getElementById("popoutWindowNewPlace"),M=document.getElementById("popoutWindow"),W=(document.getElementById("cardNameInput"),document.getElementById("imageInput"),document.getElementById("newPlaceButton"),document.getElementById("saveInputProfileButton"),document.querySelector("#card-template")),z=document.querySelector(".profile__image"),$=(document.querySelector(".elements"),document.getElementById("imageUpdatePopup")),G=(document.getElementById("profileImageInput"),document.getElementById("imagePen"),document.getElementById("deleteImagePopup"));function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}document.querySelector(".card__like-numbers"),document.getElementById("logo").src=e,document.getElementById("pen").src=t,document.getElementById("profilePen").src=t,document.getElementById("plusSign").src=r;var Q=new g(T),X=new a(c,V),Y=new a(c,H),Z=new a(c,$);z.addEventListener("mouseover",(function(){document.querySelector(".profile__image-pen").style.visibility="visible"})),z.addEventListener("mouseout",(function(){document.querySelector(".profile__image-pen").style.visibility="hidden"})),document.querySelector(".profile__image-pen").addEventListener("mouseover",(function(){document.querySelector(".profile__image-pen").style.visibility="visible"})),X.enableValidation(),Y.enableValidation(),Z.enableValidation(),R.promiseAll().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=new q({popup:G}),c=function(e){var t=new u(e,W,i._id,{imagePopupClick:function(e){Q.open(e[0],e[1])},cardLikeClick:function(e,n,r){t.checkIfLikes()?R.removeLike(e).then((function(e){t.likeHandle(e.likes.length)})).catch((function(e){console.log(e)})):R.likeCard(e).then((function(e){t.likeHandle(e.likes.length)})).catch((function(e){console.log(e)}))},cardDeleteCallBack:function(e){a.open(),a.handleDelete((function(){R.deleteCard(e).then((function(){a.close(),t.deleteCard()})).catch((function(e){console.log(e)}))}))}});return t},l=new f({items:o,renderer:function(e){l.addItem(c(e).generateCard())}},".elements");l.renderer();var s=new q({popup:M,formCallBack:function(e){x({popup:M,loading:!0}),R.updateUserInfo(e["Full Name"],e.Description).then((function(){var t=d.getUserInfo();d.setUserInfo(e["Full Name"],e.Description,t.userAvatar)})).then((function(){s.close()})).finally((function(){x({popup:M,loading:!1})})).catch((function(e){console.log(e)}))}});D.addEventListener("click",(function(){var e=d.getUserInfo();A.value=e.userName,J.value=e.userJob,X.resetValidation(),s.open()}));var d=new C(N,U,z);d.setUserInfo(i.name,i.about,i.avatar);var p=new q({popup:$,formCallBack:function(e){x({popup:$,loading:!0}),R.updateProfilePicture(e["Profile Image Url"]).then((function(){var t=d.getUserInfo();d.setUserInfo(t.userName,t.userJob,e["Profile Image Url"])})).then((function(){p.close()})).finally((function(){x({popup:$,loading:!1})})).catch((function(e){console.log(e)}))}});document.querySelector(".profile__image").addEventListener("click",(function(){p.open()})),document.querySelector(".profile__image-pen").addEventListener("click",(function(){Z.resetValidation(),p.open()}));var h=new q({popup:H,formCallBack:function(e){R.addNewCard(e).then((function(e){l.prependItem(c(e).generateCard())})).then((function(){h.close()})).catch((function(e){console.log(e)}))}});F.addEventListener("click",(function(){Y.resetValidation(),h.open()}))}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1p2RSxFQUFLLHlCQUdSb0csTUFBSyxXQUNKcUUsRUFBY2xILFdBRWYrRyxTQUFRLFdBQ1BOLEVBQUssQ0FBRTNHLE1BQU8yRSxFQUFnQmYsU0FBUyxPQUV4Q3FDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsU0FLcEJ6RyxTQUFTdEYsY0FBYyxtQkFBbUI4QixpQkFBaUIsU0FBUyxXQUNsRW1MLEVBQWN4QixVQUVoQm5HLFNBQ0d0RixjQUFjLHVCQUNkOEIsaUJBQWlCLFNBQVMsV0FDekJrSixFQUFtQmdDLGtCQUNuQkMsRUFBY3hCLFVBR2xCLElBQU0wQixFQUFpQixJQUFJN0YsRUFBYyxDQUN2Q3pCLE1BQU91RSxFQUNQN0MsYUFBYyxTQUFDL0UsR0FDYjJJLEVBQUFBLFdBQ2MzSSxHQUNYb0csTUFBSyxTQUFDUCxHQUNMK0QsRUFBU2dCLFlBQVk3QixFQUFZbEQsR0FBS2lFLG1CQUV2QzFELE1BQUssV0FDSnVFLEVBQWVwSCxXQUVoQitGLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsU0FJcEI1QixFQUFpQnJJLGlCQUFpQixTQUFTLFdBQ3pDaUosRUFBaUJpQyxrQkFDakJHLEVBQWUxQixhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvbG9hZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1WYWxpZGF0aW9uU2hvdyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsaWRhdGlvbkNvbmZpZy5mb3JtVmFsaWRhdGlvbkFjdGl2ZSk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIF9kZWZhdWx0QnV0dG9uRGlzYWJsZSA9IChidXR0b25FbGVtZW50KSA9PiB7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIF9kZWZhdWx0QnV0dG9uRW5hYmxlID0gKGJ1dHRvbkVsZW1lbnQpID0+IHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLl9kZWZhdWx0QnV0dG9uRGlzYWJsZShidXR0b25FbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2RlZmF1bHRCdXR0b25FbmFibGUoYnV0dG9uRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcyB9ID0gdGhpcy5fdmFsaWRhdGlvbkNvbmZpZztcclxuICAgIGlmICh0aGlzLl9idXR0b24pIHtcclxuICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3N1Ym1pdC1idG5fZGlzYWJsZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX190ZXh0X2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxyXG4gIGZvcm1WYWxpZGF0aW9uU2hvdzogXCJmb3JtX192YWxpZGF0aW9uX3Nob3dcIixcclxuICBmb3JtVmFsaWRhdGlvbkFjdGl2ZTogXCJmb3JtX192YWxpZGF0aW9uX3Nob3dcIixcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgdGVtcGxhdGUsXHJcbiAgICB1c2VySWQsXHJcbiAgICB7IGltYWdlUG9wdXBDbGljaywgY2FyZExpa2VDbGljaywgY2FyZERlbGV0ZUNhbGxCYWNrIH1cclxuICApIHtcclxuICAgIHRoaXMuX3RpdGxlID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB0aGlzLl9pbWFnZVBvcHVwQ2xpY2sgPSBpbWFnZVBvcHVwQ2xpY2s7XHJcbiAgICB0aGlzLl9jYXJkTGlrZUNsaWNrID0gY2FyZExpa2VDbGljaztcclxuICAgIHRoaXMuX2NhcmREZWxldGVDYWxsQmFjayA9IGNhcmREZWxldGVDYWxsQmFjaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fdGVtcGxhdGUuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfZGVsZXRlQnV0dG9ucygpIHtcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVyKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19jbG9zZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIilcclxuICAgICAgLy9cclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWFjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZWxpa2UoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBfc2F2ZUxpa2UoKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuZmlsdGVyKChlKSA9PiBlLl9pZCA9PT0gdGhpcy5fdXNlcklkKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsaWtlQ291bnRlcihlKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJzXCIpLnRleHRDb250ZW50ID0gZTtcclxuICB9XHJcblxyXG4gIGluaXRhbENvdW50ZXIoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJzXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgbGlrZUhhbmRsZShlKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1udW1iZXJzXCIpLnRleHRDb250ZW50ID0gZTtcclxuICAgIGlmIChcclxuICAgICAgIXRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWFjdGl2ZVwiKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMubGlrZUNhcmQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlbGlrZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2hlY2tJZkxpa2VzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIilcclxuICAgICAgLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5hbHQgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b25zKCk7XHJcbiAgICAvL1xyXG5cclxuICAgIHRoaXMuX3NhdmVMaWtlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NhcmREZWxldGVDYWxsQmFjayh0aGlzLl9pZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZUNsaWNrKFxyXG4gICAgICAgICAgdGhpcy5faWQsXHJcbiAgICAgICAgICB0aGlzLl9lbGVtZW50LFxyXG4gICAgICAgICAgdGhpcy5fbGlrZXMsXHJcbiAgICAgICAgICB0aGlzLl9saWtlQnV0dG9uXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXBDbGljayhbdGhpcy5fdGl0bGUsIHRoaXMuX2ltYWdlXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5saWtlQ291bnRlcigpO1xyXG4gICAgdGhpcy5pbml0YWxDb3VudGVyKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvKiAgIHJlbmRlcmVyKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfSAqL1xyXG5cclxuICAvKiAgIHJlbmRlcmVyKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfSAqL1xyXG5cclxuICAvKiByZW5kZXJlcihpdGVtcykge1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH1cclxuICB9XHJcbiAqL1xyXG4gIHJlbmRlcmVyKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wb3V0X29wZW5lZFwiKTtcclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wb3V0X29wZW5lZFwiKTtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUNsb3NlT25CYWNrZ3JvdW5kID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoZXZ0LmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wb3V0X19jbG9zZS1idG5cIilcclxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xvc2VPbkJhY2tncm91bmQpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3BvdXRfX2Nsb3NlLWJ0blwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbG9zZU9uQmFja2dyb3VuZCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX3NyYyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wb3V0X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3BvdXRfX2NhcHRpb25cIik7XHJcbiAgfVxyXG4gIG9wZW4odGl0bGUsIGltYWdlKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9zcmMuc3JjID0gaW1hZ2U7XHJcbiAgICB0aGlzLl9zcmMuYWx0ID0gdGl0bGU7XHJcbiAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWUsIHVzZXJKb2IsIGF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IgPSB1c2VySm9iO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCB1c2VyTmFtZSA9IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50O1xyXG4gICAgY29uc3QgdXNlckpvYiA9IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQ7XHJcbiAgICBjb25zdCB1c2VyQXZhdGFyID0gdGhpcy5fYXZhdGFyLnNyYztcclxuICAgIGNvbnN0IHVzZXJJbmZvID0geyB1c2VyTmFtZSwgdXNlckpvYiwgdXNlckF2YXRhciB9O1xyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgam9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwLCBmb3JtQ2FsbEJhY2sgfSkge1xyXG4gICAgc3VwZXIocG9wdXApOyAvLyBwb3B1cEVsZW1lbnRcclxuICAgIHRoaXMuX2Zvcm1DYWxsQmFjayA9IGZvcm1DYWxsQmFjaztcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRGaWVsZHNWYWx1ZSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5faW5wdXRGaWVsZHNWYWx1ZVtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RmllbGRzVmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5mb3JtQ2FsbEJhY2spO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuZm9ybUNhbGxCYWNrKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIGZvcm1DYWxsQmFjayA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9mb3JtQ2FsbEJhY2sodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRGVsZXRlKGhhbmRsZSkge1xyXG4gICAgdGhpcy5fZm9ybUNhbGxCYWNrID0gaGFuZGxlO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl91cmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBsb2FkVXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHByb21pc2VBbGwoKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMubG9hZFVzZXJJbmZvKCldKTtcclxuICB9XHJcblxyXG4gIGFkZE5ld0NhcmQoZGF0YSkge1xyXG4gICAgY29uc3QgeyB0aXRsZSwgbGluayB9ID0gZGF0YTtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGl0bGUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGVQaWN0dXJlKGlucHV0VVJMKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBpbnB1dFVSTCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI5YmRkNTVjMy01MmY5LTQ1N2YtYTE3ZC0wMmI4ZWE2M2JlMTNcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5leHBvcnQgZGVmYXVsdCBhcGk7XHJcbiIsImNvbnN0IGxvYWQgPSAoeyBwb3B1cCwgbG9hZGluZyB9KSA9PiB7XHJcbiAgY29uc3QgYnV0dG9uID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnRuXCIpO1xyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IGxvYWQ7XHJcbiIsImV4cG9ydCBjb25zdCBwb3B1cEltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZU9wZW5lZFwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcGVuUHJvZmlsZVwiKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJGdWxsTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVsbE5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCB1c2VyRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybUVkaXRQcm9maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0UHJvZmlsZUZvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXJJbnB1dGZ1bGxOYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlcklucHV0RGVzY3JpcHRpb25cIik7XHJcbmV4cG9ydCBjb25zdCBuZXdDb250ZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGROZXdDb250ZW50QnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgbmV3Q29udGVudFdpbmRvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wb3V0V2luZG93TmV3UGxhY2VcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZVdpbmRvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wb3V0V2luZG93XCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBcIi5lbGVtZW50c1wiO1xyXG5leHBvcnQgY29uc3QgY2FyZE5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZE5hbWVJbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IGltYWdlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlSW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBzYXZlTmV3SW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1BsYWNlQnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3Qgc2F2ZUlucHV0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwic2F2ZUlucHV0UHJvZmlsZUJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZHNDb250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRJbWFnZVBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZVVwZGF0ZVBvcHVwXCIpO1xyXG5leHBvcnQgY29uc3QgaW1hZ2VVcmxJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZUltYWdlSW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZVBlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VQZW5cIik7XHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkUG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGV0ZUltYWdlUG9wdXBcIik7XHJcbmV4cG9ydCBjb25zdCBsaWtlc0FtbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtbnVtYmVyc1wiKTtcclxuIiwiaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7IC8vIGFkZCBpbXBvcnQgb2YgdGhlIG1haW4gc3R5bGVzaGVldHMgZmlsZVxyXG5pbXBvcnQgbG9nbyBmcm9tIFwiLi4vaW1hZ2VzL2xvZ28uc3ZnXCI7XHJcbmltcG9ydCBwZW5TcmMgZnJvbSBcIi4uL2ltYWdlcy9wZW4uc3ZnXCI7XHJcbmltcG9ydCBwbHVzU2lnblNyYyBmcm9tIFwiLi4vaW1hZ2VzL3BsdXNzaWduLnN2Z1wiO1xyXG5cclxuY29uc3QgbG9nb0ltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dvXCIpO1xyXG5sb2dvSW1hZ2Uuc3JjID0gbG9nbztcclxuXHJcbmNvbnN0IHBlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVuXCIpO1xyXG5wZW4uc3JjID0gcGVuU3JjO1xyXG5jb25zdCBwcm9maWxlUGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlUGVuXCIpO1xyXG5wcm9maWxlUGVuLnNyYyA9IHBlblNyYztcclxuXHJcbmNvbnN0IHBsdXNTaWduID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbHVzU2lnblwiKTtcclxucGx1c1NpZ24uc3JjID0gcGx1c1NpZ25TcmM7XHJcblxyXG5pbXBvcnQge1xyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgRm9ybVZhbGlkYXRpb24sXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBhcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBsb2FkIGZyb20gXCIuLi91dGlscy9sb2FkLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgdXNlckZ1bGxOYW1lLFxyXG4gIHVzZXJEZXNjcmlwdGlvbixcclxuICBmb3JtRWRpdFByb2ZpbGUsXHJcbiAgaW5wdXROYW1lLFxyXG4gIGlucHV0RGVzY3JpcHRpb24sXHJcbiAgbmV3Q29udGVudEJ1dHRvbixcclxuICBuZXdDb250ZW50V2luZG93LFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHBvcHVwSW1hZ2VDb250YWluZXIsXHJcbiAgY2FyZE5hbWVJbnB1dCxcclxuICBpbWFnZUlucHV0LFxyXG4gIGNhcmRUZW1wbGF0ZSxcclxuICBlZGl0UHJvZmlsZVdpbmRvdyxcclxuICBwcm9maWxlSW1hZ2UsXHJcbiAgZWRpdEltYWdlUG9wdXAsXHJcbiAgaW1hZ2VVcmxJbnB1dCxcclxuICBkZWxldGVDYXJkUG9wdXAsXHJcbiAgbGlrZXNBbW1vdW50LFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZUNvbnRhaW5lcik7XHJcbmNvbnN0IHZhbGlkYXRvckVkaXRQcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0aW9uKFxyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgZm9ybUVkaXRQcm9maWxlXHJcbik7XHJcbmNvbnN0IHZhbGlkYXRvckFkZENhcmQgPSBuZXcgRm9ybVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZywgbmV3Q29udGVudFdpbmRvdyk7XHJcbmNvbnN0IHZhbGlkYXRvckltYWdlRWRpdCA9IG5ldyBGb3JtVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnLCBlZGl0SW1hZ2VQb3B1cCk7XHJcbnByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLXBlblwiKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XHJcbn0pO1xyXG5wcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+IHtcclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLXBlblwiKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxufSk7XHJcbmRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtcGVuXCIpXHJcbiAgLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1wZW5cIikuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gIH0pO1xyXG5cclxudmFsaWRhdG9yRWRpdFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGF0b3JBZGRDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxudmFsaWRhdG9ySW1hZ2VFZGl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmFwaS5wcm9taXNlQWxsKCkudGhlbigoW2NhcmRzQXJyYXksIHVzZXJBcGldKSA9PiB7XHJcbiAgY29uc3QgY2FyZERlbGV0ZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cDogZGVsZXRlQ2FyZFBvcHVwLFxyXG4gIH0pO1xyXG4gIGNvbnN0IGNhcmRUb0lucHV0ID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCBjYXJkVGVtcGxhdGUsIHVzZXJBcGkuX2lkLCB7XHJcbiAgICAgIGltYWdlUG9wdXBDbGljazogKGRhdGEpID0+IHtcclxuICAgICAgICBpbWFnZVBvcHVwLm9wZW4oZGF0YVswXSwgZGF0YVsxXSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGNhcmRMaWtlQ2xpY2s6IChjYXJkSWQsIGNhcmRUZW1wbGF0ZSwgY2FyZExpa2VzQXJyYXkpID0+IHtcclxuICAgICAgICAvKiBjYXJkLmxpa2VIYW5kbGUoKTsgKi9cclxuICAgICAgICBpZiAoY2FyZC5jaGVja0lmTGlrZXMoKSkge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5yZW1vdmVMaWtlKGNhcmRJZClcclxuICAgICAgICAgICAgLnRoZW4oKG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQubGlrZUhhbmRsZShudW1iZXIubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgIC5saWtlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKChudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLmxpa2VIYW5kbGUobnVtYmVyLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBjYXJkRGVsZXRlQ2FsbEJhY2s6IChjYXJkSWQpID0+IHtcclxuICAgICAgICBjYXJkRGVsZXRlRm9ybS5vcGVuKCk7XHJcbiAgICAgICAgY2FyZERlbGV0ZUZvcm0uaGFuZGxlRGVsZXRlKCgpID0+IHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkRGVsZXRlRm9ybS5jbG9zZSgpLCBjYXJkLmRlbGV0ZUNhcmQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjYXJkO1xyXG4gIH07XHJcbiAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgIHtcclxuICAgICAgaXRlbXM6IGNhcmRzQXJyYXksXHJcbiAgICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZFRvSW5wdXQoZGF0YSkuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNhcmRzQ29udGFpbmVyXHJcbiAgKTtcclxuICBjYXJkTGlzdC5yZW5kZXJlcigpO1xyXG5cclxuICBjb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgICBwb3B1cDogZWRpdFByb2ZpbGVXaW5kb3csXHJcbiAgICBmb3JtQ2FsbEJhY2s6IChkYXRhKSA9PiB7XHJcbiAgICAgIGxvYWQoeyBwb3B1cDogZWRpdFByb2ZpbGVXaW5kb3csIGxvYWRpbmc6IHRydWUgfSk7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC51cGRhdGVVc2VySW5mbyhkYXRhW1wiRnVsbCBOYW1lXCJdLCBkYXRhLkRlc2NyaXB0aW9uKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIGNvbnN0IHRlbXBVc2VySW1hZ2UgPSB1c2VyU2V0dGluZ3MuZ2V0VXNlckluZm8oKTtcclxuICAgICAgICAgIHVzZXJTZXR0aW5ncy5zZXRVc2VySW5mbyhcclxuICAgICAgICAgICAgZGF0YVtcIkZ1bGwgTmFtZVwiXSxcclxuICAgICAgICAgICAgZGF0YS5EZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgdGVtcFVzZXJJbWFnZS51c2VyQXZhdGFyXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgZWRpdFByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICBsb2FkKHsgcG9wdXA6IGVkaXRQcm9maWxlV2luZG93LCBsb2FkaW5nOiBmYWxzZSB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9KTtcclxuICBwcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlck5hbWVBbmRKb2IgPSB1c2VyU2V0dGluZ3MuZ2V0VXNlckluZm8oKTtcclxuICAgIGlucHV0TmFtZS52YWx1ZSA9IHVzZXJOYW1lQW5kSm9iLnVzZXJOYW1lO1xyXG4gICAgaW5wdXREZXNjcmlwdGlvbi52YWx1ZSA9IHVzZXJOYW1lQW5kSm9iLnVzZXJKb2I7XHJcbiAgICB2YWxpZGF0b3JFZGl0UHJvZmlsZS5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgIGVkaXRQcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgfSk7XHJcbiAgY29uc3QgdXNlclNldHRpbmdzID0gbmV3IFVzZXJJbmZvKFxyXG4gICAgdXNlckZ1bGxOYW1lLFxyXG4gICAgdXNlckRlc2NyaXB0aW9uLFxyXG4gICAgcHJvZmlsZUltYWdlXHJcbiAgKTtcclxuXHJcbiAgdXNlclNldHRpbmdzLnNldFVzZXJJbmZvKHVzZXJBcGkubmFtZSwgdXNlckFwaS5hYm91dCwgdXNlckFwaS5hdmF0YXIpO1xyXG5cclxuICBjb25zdCB1c2VyRWRpdEltYWdlID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXA6IGVkaXRJbWFnZVBvcHVwLFxyXG4gICAgZm9ybUNhbGxCYWNrOiAoZGF0YSkgPT4ge1xyXG4gICAgICBsb2FkKHsgcG9wdXA6IGVkaXRJbWFnZVBvcHVwLCBsb2FkaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgICAgYXBpXHJcbiAgICAgICAgLnVwZGF0ZVByb2ZpbGVQaWN0dXJlKGRhdGFbXCJQcm9maWxlIEltYWdlIFVybFwiXSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBuZXdVc2VySW5mbyA9IHVzZXJTZXR0aW5ncy5nZXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgdXNlclNldHRpbmdzLnNldFVzZXJJbmZvKFxyXG4gICAgICAgICAgICBuZXdVc2VySW5mby51c2VyTmFtZSxcclxuICAgICAgICAgICAgbmV3VXNlckluZm8udXNlckpvYixcclxuICAgICAgICAgICAgZGF0YVtcIlByb2ZpbGUgSW1hZ2UgVXJsXCJdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdXNlckVkaXRJbWFnZS5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgbG9hZCh7IHBvcHVwOiBlZGl0SW1hZ2VQb3B1cCwgbG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHVzZXJFZGl0SW1hZ2Uub3BlbigpO1xyXG4gIH0pO1xyXG4gIGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1wZW5cIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB2YWxpZGF0b3JJbWFnZUVkaXQucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICAgIHVzZXJFZGl0SW1hZ2Uub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gIGNvbnN0IGFkZE5ld0NhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gICAgcG9wdXA6IG5ld0NvbnRlbnRXaW5kb3csXHJcbiAgICBmb3JtQ2FsbEJhY2s6IChkYXRhKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5hZGROZXdDYXJkKGRhdGEpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZExpc3QucHJlcGVuZEl0ZW0oY2FyZFRvSW5wdXQocmVzKS5nZW5lcmF0ZUNhcmQoKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBhZGROZXdDYXJkRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIG5ld0NvbnRlbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHZhbGlkYXRvckFkZENhcmQucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICBhZGROZXdDYXJkRm9ybS5vcGVuKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiRm9ybVZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJ0ZXh0Q29udGVudCIsImZvcm1WYWxpZGF0aW9uU2hvdyIsInJlbW92ZSIsImZvcm1WYWxpZGF0aW9uQWN0aXZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0Iiwic29tZSIsImJ1dHRvbkVsZW1lbnQiLCJfdmFsaWRhdGlvbkNvbmZpZyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfZGVmYXVsdEJ1dHRvbkRpc2FibGUiLCJfZGVmYXVsdEJ1dHRvbkVuYWJsZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ0aGlzIiwiX2J1dHRvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZm9ybVNlbGVjdG9yIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGUiLCJ1c2VySWQiLCJpbWFnZVBvcHVwQ2xpY2siLCJjYXJkTGlrZUNsaWNrIiwiY2FyZERlbGV0ZUNhbGxCYWNrIiwiX3RpdGxlIiwibmFtZSIsIl9pbWFnZSIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiX2lkIiwiX3VzZXJJZCIsIl90ZW1wbGF0ZSIsIl9pbWFnZVBvcHVwQ2xpY2siLCJfY2FyZExpa2VDbGljayIsIl9jYXJkRGVsZXRlQ2FsbEJhY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJmaWx0ZXIiLCJlIiwibGVuZ3RoIiwiY29udGFpbnMiLCJyZW1vdmVsaWtlIiwibGlrZUNhcmQiLCJfZ2V0VGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJfZGVsZXRlQnV0dG9ucyIsIl9zYXZlTGlrZSIsIl9saWtlQnV0dG9uIiwibGlrZUNvdW50ZXIiLCJpbml0YWxDb3VudGVyIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImRvY3VtZW50IiwiaW5uZXJIVE1MIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9wb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZUNsb3NlIiwiX2hhbmRsZUNsb3NlT25CYWNrZ3JvdW5kIiwiUG9wdXBXaXRoSW1hZ2UiLCJfc3JjIiwidGl0bGUiLCJpbWFnZSIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiYXZhdGFyIiwiX3VzZXJOYW1lIiwiX3VzZXJKb2IiLCJfYXZhdGFyIiwidXNlckF2YXRhciIsImpvYiIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtQ2FsbEJhY2siLCJfZm9ybUNhbGxCYWNrIiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2lucHV0RmllbGRzVmFsdWUiLCJ2YWx1ZSIsInJlc2V0IiwiaGFuZGxlIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfdXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwibG9hZFVzZXJJbmZvIiwiY2FyZElkIiwiaW5wdXRVUkwiLCJhdXRob3JpemF0aW9uIiwibG9hZGluZyIsImJ1dHRvbiIsInBvcHVwSW1hZ2VDb250YWluZXIiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwidXNlckZ1bGxOYW1lIiwidXNlckRlc2NyaXB0aW9uIiwiZm9ybUVkaXRQcm9maWxlIiwiaW5wdXROYW1lIiwiaW5wdXREZXNjcmlwdGlvbiIsIm5ld0NvbnRlbnRCdXR0b24iLCJuZXdDb250ZW50V2luZG93IiwiZWRpdFByb2ZpbGVXaW5kb3ciLCJjYXJkVGVtcGxhdGUiLCJwcm9maWxlSW1hZ2UiLCJlZGl0SW1hZ2VQb3B1cCIsImRlbGV0ZUNhcmRQb3B1cCIsImxvZ28iLCJwZW5TcmMiLCJwbHVzU2lnblNyYyIsImltYWdlUG9wdXAiLCJ2YWxpZGF0b3JFZGl0UHJvZmlsZSIsInZhbGlkYXRvckFkZENhcmQiLCJ2YWxpZGF0b3JJbWFnZUVkaXQiLCJ2aXNpYmlsaXR5IiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsImNhcmRzQXJyYXkiLCJ1c2VyQXBpIiwiY2FyZERlbGV0ZUZvcm0iLCJjYXJkVG9JbnB1dCIsImNhcmQiLCJvcGVuIiwiY2FyZExpa2VzQXJyYXkiLCJjaGVja0lmTGlrZXMiLCJudW1iZXIiLCJsaWtlSGFuZGxlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlRGVsZXRlIiwiZGVsZXRlQ2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImdlbmVyYXRlQ2FyZCIsImVkaXRQcm9maWxlRm9ybSIsImxvYWQiLCJEZXNjcmlwdGlvbiIsInRlbXBVc2VySW1hZ2UiLCJ1c2VyU2V0dGluZ3MiLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsInVzZXJOYW1lQW5kSm9iIiwicmVzZXRWYWxpZGF0aW9uIiwidXNlckVkaXRJbWFnZSIsIm5ld1VzZXJJbmZvIiwiYWRkTmV3Q2FyZEZvcm0iLCJwcmVwZW5kSXRlbSJdLCJzb3VyY2VSb290IjoiIn0=